\documentclass{report}


% ==================================================================================================================================
% HEADER
% Documents packages, environements, page configuration

\usepackage[french]{babel}
\usepackage[T1]{fontenc}
\usepackage{ragged2e}
\usepackage{amsfonts}
\usepackage{systeme}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{comment}
\usepackage{multicol}
\usepackage{lipsum} 
\usepackage{graphicx}
\usepackage{stmaryrd}
\usepackage{wrapfig}
\usepackage{colortbl}
\usepackage{cellspace}
\usepackage{ntheorem}
\usepackage{lmodern}
\usepackage{mathtools}
\usepackage{ragged2e}
\usepackage{tabularx}
\usepackage{titlepic}
\usepackage{fancyhdr}
\usepackage{caption}
\usepackage{xcolor} % pour les couleurs
\usepackage[linkbordercolor=white]{hyperref} % après avoir chargé xcolor
\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usepackage{listings}
\usepackage{tikz}
\usepackage{mdframed}
\usepackage{xparse} % Nécessaire pour définir des environnements avec arguments optionnels
\usepackage[top=3cm, bottom=3cm, left=3.5cm, right=3.5cm]{geometry}
\usepackage{needspace} % Pour éviter le fractionnement des environnnements
% \usepackage{parskip} % Désactive l'indentation des pragraphes et rajoute un espace entre deux 
\usetikzlibrary{patterns, automata, positioning} % Pour utiliser les motifs
\usepackage{tocloft} % Permet de personnaliser le sommaire
\usepackage{minitoc} % Pour les mini tables des matières
\usepackage{forest} % Pour les arbres de dérivation



% \setcounter{secnumdepth}{-1} % Désactive le compteur des parties
\setcounter{tocdepth}{1} % Affiche uniquement les sections dans le sommaire principal
\dominitoc % Active les sommaires locaux

% Rediriger les fichiers auxiliaires de minitoc dans un dossier "aux/"
\makeatletter
\def\MTCTemp#1{aux/#1}
\makeatother

% PAGE SETTINGS


\setlength{\columnseprule}{1pt}               % ligne de séparation entre les colonnes
\def\columnseprulecolor{\color{black}}

\newcolumntype{C}{>{$\displaystyle}Sc<$}      % style d'affichage et taille 
\cellspacetoplimit=5pt                        % de la séparation entre colonnes
\cellspacebottomlimit=5pt


% MATHS SHORTHANDS

\newcommand{\C}{\mathbb{C}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\U}{\mathbb{U}}
\newcommand{\K}{\mathbb{K}}
\newcommand{\M}{\mathcal{M}}
\newcommand{\B}{\mathcal{B}}

\let\oldphi\phi % Sauvegarder l'ancienne définition de \phi
\renewcommand{\phi}{\varphi} % Redéfinir \phi pour qu'il affiche \varphi


% MOD NOTATION

\theorembodyfont{\upshape}

% Définir un environnement pour encadrer les définitions avec un titre
\NewDocumentEnvironment{definition}{O{}}
{
  \begin{mdframed}[linewidth=0pt,linecolor=gray,backgroundcolor=gray!10,roundcorner=5pt]
  \textbf{Définition}%
  \IfNoValueTF{#1}{}{~(\textbf{#1})} % Affiche le titre entre parenthèses et en gras s'il est fourni
  . % Point à la fin
}
{
  \end{mdframed}
}

% Définir un environnement pour encadrer les théorèmes avec un titre
\NewDocumentEnvironment{theorem}{O{}}
{
  \samepage
  \begin{mdframed}[linewidth=1pt,linecolor=darkgray,backgroundcolor=darkgray!10,roundcorner=5pt]
  \textbf{Théorème}%
  \IfNoValueTF{#1}{}{~(\textbf{#1})} % Affiche le titre entre parenthèses et en gras s'il est fourni
  . % Point à la fin
}
{
  \end{mdframed}
}

% Définir un environnement pour encadrer les corollaires
\NewDocumentEnvironment{corollary}{O{}}
{
  \begin{mdframed}[linewidth=1pt,linecolor=gray,backgroundcolor=gray!10,roundcorner=5pt]
  \textbf{Corollaire}%
  \IfNoValueTF{#1}{}{~(\textbf{#1})} % Affiche le titre entre parenthèses et en gras s'il est fourni
  . % Point à la fin
}
{
  \end{mdframed}
}


% Définir un environnement pour encadrer les critères
\NewDocumentEnvironment{criteria}{O{}}
  {
    \begin{mdframed}[linewidth=1pt,
                      linecolor=gray,
                      backgroundcolor=gray!10,
                      roundcorner=5pt
                      ]
    \textbf{Critère}%
    \IfNoValueTF{#1}{}{~(\textbf{#1})} % Affiche le titre entre parenthèses et en gras s'il est fourni
    . % Point à la fin
  }
  {
    \end{mdframed}
  }

% Définir un environnement pour encadrer les prorpiétés avec un titre
\NewDocumentEnvironment{prop}{O{}}
{
  \begin{mdframed}[linewidth=0pt,linecolor=gray,backgroundcolor=gray!10,roundcorner=5pt]
  \textbf{Propriété}%
  \IfNoValueTF{#1}{}{~(\textbf{#1})} % Affiche le titre entre parenthèses et en gras s'il est fourni
  . % Point à la fin
}
{
  \end{mdframed}
}
				

\theoremstyle{plain}
\newtheorem*{remark}{Remarque}
\newtheorem*{proposition}{Proposition}
\newtheorem*{lemma}{Lemme}
%\newtheorem*{prop}{Propriété}
\newtheorem*{proof}{Démonstration}
\newtheorem*{example}{Exemple}

% Créer un environnement qui empêche les coupures de page
\newenvironment{nobreakproposition}
{
  \par\begingroup\samepage % Empêcher les coupures de page
  \begin{proposition}
}
{
  \end{proposition}
  \par\endgroup
}



% ==================================================================================================================================
% Setting Title 

% Titre du document
\title{Révisions Master IMA}
\author{Axel PIGEON}
\date{\today}

\setlength{\parindent}{0pt}
\renewcommand{\labelitemi}{\textbullet} % Utiliser des points noirs (•)

\begin{document}


% ==================================================================================================================================
% CONTENT


% Page de titre 
\maketitle

% Table des matières 
\tableofcontents
\newpage

\setlength{\parindent}{0pt}

% Inclusion des chapitres 
\include{chapitres/chapitre1}


\end{document}